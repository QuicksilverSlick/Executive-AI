<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Voice Assistant Test</title><style>body{font-family:Arial,sans-serif;margin:20px;background:#f5f5f5}.test-container{max-width:600px;margin:0 auto;background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,.1)}.status{padding:10px;margin:10px 0;border-radius:4px;border:1px solid #ddd}.error{background:#ffebee;border-color:#f44336;color:#c62828}.success{background:#e8f5e8;border-color:#4caf50;color:#2e7d32}.info{background:#e3f2fd;border-color:#2196f3;color:#1565c0}button{background:#2196f3;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;margin:5px}button:hover{background:#1976d2}.disabled{background:#ccc;cursor:not-allowed}</style></head><body><div class=test-container><h1>Voice Assistant Test</h1><div class="info status" id=status>Loading voice assistant...</div><div><button onclick=testDefaultConfig()>Test DEFAULT_CONFIG</button> <button onclick=testShowErrorMessage()>Test showErrorMessage</button> <button onclick=testInitialization()>Test Initialization</button> <button onclick=testErrorHandling()>Test Error Handling</button></div><div id=results></div></div><script type=module>async function testDefaultConfigImport(){try{const e=await import("./src/features/voice-agent/types/index.ts"),{DEFAULT_CONFIG:s,DEFAULT_SESSION_CONFIG:t}=e;return console.log("DEFAULT_CONFIG:",s),console.log("DEFAULT_SESSION_CONFIG:",t),{success:!0,data:{DEFAULT_CONFIG:s,DEFAULT_SESSION_CONFIG:t}}}catch(e){return console.error("DEFAULT_CONFIG import failed:",e),{success:!1,error:e.message}}}async function testWebRTCVoiceAgent(){try{const e=await import("./src/lib/voice-agent/webrtc/main.ts"),{createWebRTCVoiceAgent:s}=e,t=s({elementId:"test-widget",theme:"light"});return console.log("WebRTC Voice Agent created:",t),{success:!0,data:t}}catch(e){return console.error("WebRTC Voice Agent creation failed:",e),{success:!1,error:e.message}}}function testVoiceAssistantCoreMethods(){if(!window.VoiceAssistantCore)return{success:!1,error:"VoiceAssistantCore not found on window"};const e=window.VoiceAssistantCore;return"function"!=typeof e.showErrorMessage?{success:!1,error:"showErrorMessage method not found"}:"function"!=typeof e.retryConnection?{success:!1,error:"retryConnection method not found"}:{success:!0,data:"All required methods found"}}window.testDefaultConfig=async function(){const e=document.getElementById("status"),s=document.getElementById("results");e.textContent="Testing DEFAULT_CONFIG import...",e.className="status info";const t=await testDefaultConfigImport();t.success?(e.textContent="DEFAULT_CONFIG import successful",e.className="status success",s.innerHTML+='<div class="status success">✓ DEFAULT_CONFIG loaded successfully</div>'):(e.textContent="DEFAULT_CONFIG import failed",e.className="status error",s.innerHTML+=`<div class="status error">✗ DEFAULT_CONFIG failed: ${t.error}</div>`)},window.testShowErrorMessage=function(){const e=document.getElementById("results"),s=testVoiceAssistantCoreMethods();if(s.success){e.innerHTML+='<div class="status success">✓ showErrorMessage method exists</div>';try{window.VoiceAssistantCore.showErrorMessage("Test error message",!0),e.innerHTML+='<div class="status success">✓ showErrorMessage executed successfully</div>'}catch(s){e.innerHTML+=`<div class="status error">✗ showErrorMessage execution failed: ${s.message}</div>`}}else e.innerHTML+=`<div class="status error">✗ ${s.error}</div>`},window.testInitialization=async function(){const e=document.getElementById("status"),s=document.getElementById("results");e.textContent="Testing WebRTC Voice Agent creation...",e.className="status info";const t=await testWebRTCVoiceAgent();t.success?(e.textContent="WebRTC Voice Agent creation successful",e.className="status success",s.innerHTML+='<div class="status success">✓ WebRTC Voice Agent created without errors</div>'):(e.textContent="WebRTC Voice Agent creation failed",e.className="status error",s.innerHTML+=`<div class="status error">✗ WebRTC Voice Agent failed: ${t.error}</div>`)},window.testErrorHandling=function(){const e=document.getElementById("results");if(window.VoiceAssistantCore)try{window.VoiceAssistantCore.handleError({type:"connection_failed",message:"Test connection error",recoverable:!0}),e.innerHTML+='<div class="status success">✓ Error handling executed successfully</div>'}catch(s){e.innerHTML+=`<div class="status error">✗ Error handling failed: ${s.message}</div>`}else e.innerHTML+='<div class="status error">✗ VoiceAssistantCore not available</div>'},document.addEventListener("DOMContentLoaded",(function(){setTimeout((()=>{const e=document.getElementById("status"),s=document.getElementById("results");window.VoiceAssistantCore?(e.textContent="Voice Assistant Core loaded successfully",e.className="status success",s.innerHTML+='<div class="status success">✓ VoiceAssistantCore available on window</div>'):(e.textContent="Voice Assistant Core failed to load",e.className="status error",s.innerHTML+='<div class="status error">✗ VoiceAssistantCore not available</div>')}),1e3)}))</script><script type=module src=./src/components/voice-agent/voice-assistant-core.js></script></body></html>