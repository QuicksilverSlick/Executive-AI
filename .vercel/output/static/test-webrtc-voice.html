<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><title>WebRTC Voice Test</title><style>body{font-family:Arial,sans-serif;max-width:800px;margin:0 auto;padding:20px}.status{padding:10px;margin:10px 0;border-radius:5px}.connected{background-color:#d4edda;color:#155724}.error{background-color:#f8d7da;color:#721c24}.info{background-color:#d1ecf1;color:#0c5460}button{padding:10px 20px;margin:5px;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer}button:hover{background-color:#0056b3}#logs{background-color:#f5f5f5;padding:10px;border-radius:5px;height:300px;overflow-y:scroll;font-family:monospace;font-size:12px}</style></head><body><h1>WebRTC Voice Agent Debug</h1><div id=status class="info status">Initializing...</div><div><button onclick=testResponse()>Test Response</button> <button onclick=sendTextMessage()>Send Test Message</button> <button onclick=clearLogs()>Clear Logs</button></div><h3>Debug Logs:</h3><div id=logs></div><script>const logs=document.getElementById("logs"),status=document.getElementById("status");function log(e,o="info"){const n=(new Date).toLocaleTimeString(),t=document.createElement("div");t.style.color="error"===o?"red":"success"===o?"green":"black",t.textContent=`[${n}] ${e}`,logs.appendChild(t),logs.scrollTop=logs.scrollHeight,console.log(e)}function updateStatus(e,o="info"){status.textContent=e,status.className=`status ${o}`}function testResponse(){log("Triggering test response...","info"),window.voiceAgent&&window.voiceAgent.testResponse?window.voiceAgent.testResponse():log("Voice agent not found or testResponse method not available","error")}function sendTextMessage(){const e=prompt("Enter a test message:");e&&window.voiceAgent&&window.voiceAgent.sendMessage&&(log(`Sending message: "${e}"`,"info"),window.voiceAgent.sendMessage(e))}function clearLogs(){logs.innerHTML=""}window.addEventListener("voice-agent-ready",(e=>{log("Voice agent ready event received","success"),updateStatus("Voice Agent Ready","connected")})),setTimeout((()=>{window.WebRTCVoiceAgent&&log("WebRTC Voice Agent class found in window","success");const e=setInterval((()=>{document.querySelector("[data-voice-agent-widget]")&&(log("Voice agent widget found in DOM","success"),clearInterval(e))}),1e3)}),2e3);const originalLog=console.log;console.log=function(...e){originalLog.apply(console,e),e[0]&&"string"==typeof e[0]&&e[0].includes("[WebRTC Voice Agent]")&&log(e.join(" "),"info")};const originalError=console.error;console.error=function(...e){originalError.apply(console,e),e[0]&&"string"==typeof e[0]&&e[0].includes("WebRTC")&&log(e.join(" "),"error")}</script></body></html>